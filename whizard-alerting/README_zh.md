## 核心特性

- 通过规则组分组管理告警规则，提供增删改查、启用/禁用等灵活配置。
- 提供模板化配置规则以简化常见使用场景，以及支持规则表达式的自定义配置。
- 定义项目、集群、全局多个级别规则组，支持多租户和多集群告警。
- 提供内置规则组，覆盖平台组件和应用的通用告警。

## 安装

### 安装依赖扩展组件

安装下列依赖的扩展组件：

- ***WhizardTelemetry 监控*** (必需)
- ***WhizardTelemetry 平台服务*** (必需)
- ***WhizardTelemetry 通知*** (可选)

### 安装 WhizardTelemetry 告警

> 建议按照**配置**部分的说明修改扩展组件配置后，再点击“开始安装”。

1. 通过 **扩展市场** 页面找到 **WhizardTelemetry 告警** 扩展组件，点击 **安装**，选择最新版本，点击 **下一步** 按钮；
2. 在 **扩展组件安装** 标签页面中，根据需求点击并修改 **扩展组件配置**，配置完成后，点击 **开始安装** 按钮，开始安装；
3. 安装完成后，点击 **下一步** 按钮，进入集群选择页面，勾选需要安装的集群，点击 **下一步** 按钮，进入 **差异化配置** 页面；
4. 根据需求更新 **差异化配置**，更新完成，开始安装，静待安装完成。


## 配置

配置 `agent.ruler.alertmanagersUrl` 为 alertmanager-proxy 服务地址(该服务由***WhizardTelemetry 通知*** 扩展组件提供，安装在 host 集群，默认在 `http://<host node ip>:31093` 可访问)。

```yaml
agent:
  ruler:
    alertmanagersUrl:
    - 'http://<host node ip>:31093'
```
> **请注意这里应配置 `agent` 下的 `ruler.alertmanagersUrl`**。

> 如果未启用 ***WhizardTelemetry 通知*** 扩展组件而希望告警发送到外部 alertmanager 时，请将上边 `agent.ruler.alertmanagersUrl` 配置为外部服务地址。

## 快速开始

安装完成后，集群和项目左侧导航栏的**监控告警**菜单下将显⽰**告警**和**规则组**。

规则组中定义的告警规则用于监测集群资源。支持创建、编辑、禁用、启用规则组，以及重置内置规则组。

当规则组中设置的指标满足预设的条件和持续时间时，系统将生成告警。可在**告警**页面查看已生成的告警。

## 卸载

通过 **扩展市场** 页面找到 **WhizardTelemetry 告警**，选择已安装的版本，点击 **卸载** 按钮，开始卸载。
